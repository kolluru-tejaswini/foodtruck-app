{% include 'admin_head.html' %}

<div class="layout-wrapper">
  <div class="form-section">
    <h3>Food Truck Owner Here</h3>
    <form action="add_food_truck_action" method="post">
        <div class="form-field">
          <label class="form-label" for="name">Name</label>
          <input class="form-input" type="text" maxlength="20" name="name" id="name" required placeholder="Enter Name">
        </div>

      <div class="form-field">
        <label class="form-label" for="email">Email</label>
        <input class="form-input" type="email" name="email" id="email" maxlength="40" required placeholder="Enter Email Address">
      </div>

      <div class="form-field">
        <label class="form-label" for="phone">Phone</label>
        <input class="form-input" type="number" name="phone" id="phone" placeholder="Enter Phone Number" min="1000000000" max="9999999999" required>
      </div>
      
      <script>
        const phoneInput = document.getElementById('phone');
        phoneInput.addEventListener('input', function () {
          if (this.value.length > 10) {
            this.value = this.value.slice(0, 10); 
          }
        });
      </script>

      <div class="form-field">
        <label class="form-label" for="password">Password</label>
        <input class="form-input" type="password" name="password" id="password" minlength="3" maxlength="20" placeholder="Enter Password" required>
      </div>

      <div class="form-field">
        <label class="form-label" for="food_truck_category">Food Truck Category</label>
        <input class="form-input" type="text" name="food_truck_category" id="food_truck_category" maxlength="30" placeholder="Enter Food Truck Category" required>
      </div>

      <div class="form-field">
        <label class="form-label" for="address">Address</label>
        <textarea class="form-textarea" name="address" id="address" placeholder="Enter Address" required minlength="10" maxlength="50"></textarea>
      </div>

      <div class="form-row">
        <div class="form-field">
          <label class="form-label" for="city">City</label>
          <input class="form-input" type="text" name="city" id="city" maxlength="20" placeholder="Enter City" required>
        </div>
        
        <div class="form-field">
          <label class="form-label" for="state">State</label>
          <input class="form-input" type="text" name="state" id="state" maxlength="20" placeholder="Enter State" required>
        </div>
      </div>

      <div class="form-field">
        <label class="form-label" for="zipcode">Zipcode</label>
        <input class="form-input" type="number" name="zipcode" id="zipcode" placeholder="Enter Zipcode" min="10000" max="99999" required>
      </div>
      <script>
        const zipcodeInput = document.getElementById('zipcode');
        zipcodeInput.addEventListener('input', function () {
            if (this.value.length > 5) {
                this.value = this.value.slice(0, 5);
            }
        });
    </script>

      <div class="form-field">
        <input class="submit-button" type="submit" value="Add Here" style="display: block; width: 100%; padding: 10px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 16px;">
      </div>
    </form>
  </div>

  <div class="cards-section">
    <div class="cards-header">
      <h3>All Food Truck Owner Details:</h3>
    </div>

    <div class="cards-container">
      {% for food_truck in food_trucks %}
      <div class="card-box">
        <h3>{{food_truck['name']}}</h3>
        <p><strong>Email:</strong> {{food_truck['email']}}</p>
        <p><strong>Phone:</strong> {{food_truck['phone']}}</p>
        <p><strong>Address:</strong> {{food_truck['address']}}</p>
        <p><strong>City:</strong> {{food_truck['city']}}</p>
        <p><strong>State:</strong> {{food_truck['state']}}</p>
        <p><strong>Zipcode:</strong> {{food_truck['zipcode']}}</p>
        {% if food_truck['food_truck_category'] %}
        <p><strong>Category:</strong> {{food_truck['food_truck_category']}}</p>
        {% endif %}
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<style>
  .form-field {
    margin-bottom: 20px;
    width: 100%;
    position: relative;
  }
  
  .form-input,
  .form-textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
    background-color: #fff;
  }
  
  .form-section {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    max-height: 90vh;
  }
  
  .layout-wrapper {
    display: flex;
    max-width: 1200px;
    margin: 20px auto;
    gap: 20px;
    padding: 20px;
    background: #ffffff;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    height: auto;
    min-height: 500px;
    overflow: visible;
  }
  
  .form-row {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
  }
  
  .form-row .form-field {
    flex: 1;
    margin-bottom: 0;
  }
  
  @media (max-width: 768px) {
    .form-row {
      flex-direction: column;
    }
  }
</style>

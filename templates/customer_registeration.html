{% include 'links.html' %}
{% include 'home_head.html' %}

<body class="customer-ref-bg">

<!-- Toast Flash Messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div id="toast-container" style="position: fixed; top: 20px; right: 20px; z-index: 9999;">
      {% for category, message in messages %}
        <div class="toast-message {{ category }}">{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<style>
.toast-message {
    padding: 12px 20px;
    margin-bottom: 10px;
    border-radius: 6px;
    font-size: 15px;
    color: white;
    font-weight: bold;
    box-shadow: 0px 3px 8px rgba(0,0,0,0.2);
    animation: fadeOut 3s ease-out forwards;
}
.toast-message.success { background-color: #28a745; }
.toast-message.info { background-color: #17a2b8; }
.toast-message.error { background-color: #dc3545; }

@keyframes fadeOut {
    0% { opacity: 1; }
    70% { opacity: 1; }
    100% { opacity: 0; display: none; }
}
</style>

<script>
setTimeout(() => {
    const container = document.getElementById('toast-container');
    if (container) container.remove();
}, 3000);
</script>

<div class="register-container">
    <div class="register-title">Customer Registration</div>
    <form action="customer_registeration_action" method="post">

        <div class="form-row">
            <div class="form-group">
                <label class="form-label" for="name1">First Name</label>
                <input class="form-input" type="text" maxlength="20" name="name1" id="name1" placeholder="Enter First Name" required>
            </div>

            <div class="form-group">
                <label class="form-label" for="name2">Last Name</label>
                <input class="form-input" type="text" name="name2" id="name2" maxlength="20" placeholder="Enter Last Name" required>
            </div>
        </div>

        <div class="form-group">
            <label class="form-label" for="email">Email</label>
            <input class="form-input" type="email" name="email" id="email" maxlength="40" placeholder="Enter Email" required>
        </div>

        <div class="form-group">
            <label class="form-label" for="phone">Phone</label>
            <input class="form-input" type="number" name="phone" id="phone" placeholder="Enter Phone Number" min="1000000000" max="9999999999" required>
        </div>
        <script>
            const phoneInput = document.getElementById('phone');
            phoneInput.addEventListener('input', function () {
              if (this.value.length > 10) {
                this.value = this.value.slice(0, 10); 
              }
            });
        </script>

        <div class="form-group">
            <label class="form-label" for="password">Password</label>
            <input type="password" name="password" id="password" class="form-input" minlength="3" maxlength="20" placeholder="Enter Password" required>
        </div>

        <div class="form-group">
            <label class="form-label" for="confirm_password">Confirm Password</label>
            <input type="password" name="confirm_password" id="confirm_password" class="form-input" minlength="3" maxlength="20" placeholder="Confirm Password" required>
        </div>

        <div class="form-group">
            <label class="form-label" for="dob">Date of Birth</label>
            <input type="date" name="dob" id="dob" class="form-input" required>
        </div>

        <script>
            document.querySelector('form').addEventListener('submit', function(e) {
                const password = document.getElementById('password').value;
                const confirmPassword = document.getElementById('confirm_password').value;
                
                if (password !== confirmPassword) {
                    e.preventDefault();
                    alert('Passwords do not match!');
                }
            });
        </script>

        <div class="form-group">
            <label class="form-label" for="address">Address</label>
            <textarea class="form-textarea" id="address" name="address" placeholder="Enter Address" required minlength="10" maxlength="50"></textarea>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label class="form-label" for="state" style="color: white;">State</label>
                <input type="text" class="form-select" id="state" name="state" placeholder="Enter State">
                <svg class="form-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#1F2937" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </div>

            <div class="form-group">
                <label class="form-label" for="city" style="color: white;">City</label>
                <input type="text" class="form-select" id="city" name="city" placeholder="Enter City">
                <svg class="form-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#1F2937" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </div>
        </div>

        <div class="form-group">
            <label class="form-label" for="zipcode">Zipcode</label>
            <input class="form-input" type="number" id="zipcode" name="zipcode" required maxlength="6" pattern="\d{5}" placeholder="Enter Zipcode" required>
        </div>
        <script>
            const zipcodeInput = document.getElementById('zipcode');
            zipcodeInput.addEventListener('input', function () {
                if (this.value.length > 5) {
                    this.value = this.value.slice(0, 5);
                }
            });
        </script>

        <div class="form-group">
            <input type="submit" class="register-btn" value="Register">
        </div>

        <div class="login-link">
            Already have an account? <a class="login-link-text" href="/customer_login">Login Here</a>
        </div>

    </form>
</div>
</body>



